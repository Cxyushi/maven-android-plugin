#summary Get started using Maven Android Plugin
#labels Featured

= Getting Started =

== Maven Repository ==

  * *Update:* We deploy to Maven Central, so you don't need any repository configuration!


== Setup your development environment ==
  # Install Sun JDK 1.5+
  # Install Android SDK 1.5_r2:
     http://developer.android.com/sdk/1.5_r2/
  # Set environment variable ANDROID_SDK_15 to the path of your installed Android SDK.
  # If you look in the pom.xml of the samples project you will find the following dependency.

{{{
  <dependency>
    <groupId>android</groupId>
    <artifactId>android</artifactId>
    <version>1.5_r2</version>
    <scope>provided</scope>
  </dependency>
}}}

  This corresponds to the android.jar file in the Android SDK which is needed to compile all Android applications. Install this file to your local repository with the following command.

    {{{ mvn install:install-file -DgroupId=android -DartifactId=android -Dversion=1.5_r2 -Dpackaging=jar -Dfile=$ANDROID_SDK_15/platforms/android-1.5/android.jar}}}

On Windows, that would be:

    {{{ mvn install:install-file -DgroupId=android -DartifactId=android -Dversion=1.5_r2 -Dpackaging=jar -Dfile=%ANDROID_SDK_15%/platforms/android-1.5/android.jar}}}


== Optional: Test your development environment ==

If you want to test your environment, download and run the [Samples].


== Create your own Android application (apk) ==
  # Create a project using the {{{android}}} tool:
     * http://developer.android.com/guide/developing/other-ide.html#CreatingAProject
  # Create a {{{pom.xml}}} in your project, using the sample {{{apidemos-15/apidemos-15-app/pom.xml}}} as template. (See [Samples].)
     * Make these changes:
     * Remove the entire {{{<parent>}}} tag.
     * Change {{{<groupId>}}}, {{{<artifactId>}}} and {{{<name>}}} to your own. (Some tips: [http://maven.apache.org/guides/mini/guide-naming-conventions.html Maven - Guide to Naming Conventions])
  # Rename, and move the source directory to where Maven expects it:
     {{{
     mv src java
     mkdir -p src/main
     mv java src/main/
     }}}
  # You won't need these files/directories with Maven Android Plugin, so you can remove them:
     {{{
     rm -r bin build.xml build.properties libs
     }}}
     _The {{{default.properties}}} file is currently not used by Maven Android Plugin, but will be, so leave that in place for now. {{{default.properties}}} and the {{{gen}}} folder are used by the ADT plugin in Eclipse, if you use that._<br/>
     _(Also leave the "test" folder for now. You can later move it out to its own project. If you want, you can then look at the {{{apidemos-15-instrumentationtest}}} sample project.)_
  # To build your apk, simply:
     {{{
     mvn install
     }}}
  # To deploy your apk to the connected device:
     {{{
     mvn com.jayway.maven.plugins.android.generation2:maven-android-plugin:deploy
     }}}

<sup><i>Do you think that last Maven command was long? It was. Check out [TipsAndTricks].</i></sup>

== Run instrumentation tests on device ==
Check out the {{{apidemos-15-instrumentationtest}}} project in [Samples].

You can create a project like that, by moving your "test" folder out and renaming it to for example "myproject-instrumentationtest". Then rearrange the folders within it like above, and use the {{{pom.xml}}} from {{{apidemos-15-instrumentationtest}}} as template.
  

== More documentation ==

There is some more documentation on the [Documentation] page.
<br/>
<br/>
----
_Please feel free to update this page with more details / corrections! (Just ask hugo@josefson.org for edit permissions, and you will get it.)_